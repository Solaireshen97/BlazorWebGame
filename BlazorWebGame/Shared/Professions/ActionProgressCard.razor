<div class="@CardClass">
    <h4>@Title</h4>
    @if (ShowProgressBar)
    {
        <div class="progress-bar-container">
            <div class="progress-bar" style="width: @(ProgressPercentage)%;"></div>
            <span class="progress-text">@RemainingTimeText</span>
        </div>
    }
    <div class="mt-3">
        @ChildContent
    </div>
</div>

@code {
    [Parameter]
    public string Title { get; set; } = "";
    
    [Parameter]
    public bool IsBlocked { get; set; } = false;
    
    [Parameter]
    public bool ShowProgressBar { get; set; } = true;
    
    [Parameter]
    public double ProgressPercentage { get; set; } = 0;
    
    [Parameter]
    public string RemainingTimeText { get; set; } = "0.0s";
    
    [Parameter]
    public RenderFragment ChildContent { get; set; } = null!;
    
    private string CardClass => IsBlocked ? "action-blocked-card" : "current-action-card";
}